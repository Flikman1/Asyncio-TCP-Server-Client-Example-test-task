# Asyncio TCP Server-Client Example

## Описание проекта

Этот проект демонстрирует асинхронное взаимодействие между сервером и двумя клиентами через TCP-соединения с использованием библиотеки `asyncio` в Python 3.10. Сервер и клиенты обмениваются сообщениями в формате ASCII с переводом строки (0x0a) в конце сообщения. Проект включает следующие функциональные возможности:

- Сервер принимает соединения от клиентов и обрабатывает их запросы.
- Клиенты отправляют серверу сообщения PING с случайными интервалами.
- Сервер отвечает на запросы клиентов сообщениями PONG, иногда игнорируя запросы с 10% вероятностью.
- Сервер отправляет всем клиентам сообщения keepalive каждые 5 секунд.
- Все сообщения и события логируются в соответствующие файлы.

## Требования

- Python 3.10
- asyncio (встроенная библиотека в Python)

## Установка

1. Убедитесь, что у вас установлена версия Python 3.10:
    ```bash
    python --version
    ```
2. (Опционально) Создайте и активируйте виртуальное окружение:
    ```bash
    python -m venv env
    source env/bin/activate  # Для Windows: env\Scripts\activate
    ```

## Запуск проекта

1. Скачайте или клонируйте репозиторий с проектом.
2. Убедитесь, что у вас есть следующие файлы в вашем репозитории:

   - `server.py`: файл с реализацией сервера.
   - `client.py`: файл с реализацией клиента.
   - `main.py`: файл для запуска серверных и клиентских процессов.

3. Запустите проект:
    ```bash
    python main.py
    ```
4. Проект будет работать 5 минут, затем завершится автоматически.
5. Проверьте созданные логи:
    - `server_log.txt` для логов сервера.
    - `client_0_log.txt` и `client_1_log.txt` для логов клиентов.

## Проверка работы

Логи создаются автоматически во время выполнения программы. Откройте файлы логов, чтобы убедиться, что они содержат правильные данные.

### Лог сервера

Лог сервера содержит строки со следующими значениями, разделенными точкой с запятой:
- Дата в формате `ГГГГ-ММ-ДД`
- Время получения запроса в формате `ЧЧ:ММ:СС.ССС`
- Текст запроса
- Время отправки ответа в таком же формате
- Текст ответа

Для проигнорированных сообщений два последних параметра заменяются на строку `(проигнорировано)`.

### Лог клиента

Лог клиента содержит строки в формате:
- Дата
- Время отправки запроса
- Текст запроса
- Время получения ответа или таймаута
- Текст ответа или строка `(таймаут)`

Для сообщений keepalive атрибуты запроса в логе должны быть пустыми.

## Заключение

Этот проект демонстрирует асинхронное программирование с использованием `asyncio` и многопроцессность с помощью `multiprocessing` для реализации сервер-клиент архитектуры с логированием всех событий.
